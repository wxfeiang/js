<!--
 * @Author: wxfeiang
 * @Description: 
 * @Date: 2023-05-03 18:35:12
 * @LastEditTime: 2023-07-14 10:58:48
 * @FilePath: /js/echarts/bar3.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>bar</title>
</head>
<style>
    .main {
        width: 500px;
        height: 400px;
        margin: 0 auto;
        border: 1px solid #ccc;
    }
</style>

<body>
    <div class="main" id="main"></div>



</body>
<script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.4.2/echarts.common.js"></script>
<script>

    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('main'));

    // 指定图表的配置项和数据
    var option = {
        se: [
            {
                type: "bar",
                barGap: "-105%", // 柱形图偏移
                data: listData.map((items, i) => {
                    const value = Math.max(...listData.map(item => item.value));
                    const itemStyle = {
                        color: "none",
                        borderRadius: 8, //圆角
                        borderColor: "#041921",
                    };
                    if (i >= 8 && i <= 10) {
                        const colors = ["#00FFC0", "#0195C2", "#FFF100"];
                        itemStyle.color = colors[i - 8];
                    }
                    return {
                        value,
                    };
                }),
                barWidth: 16,
                itemStyle: {
                    borderColor: "transparent",
                },
                label: {
                    show: true,
                    position: "right",
                    color: "#13B5B1",
                    fontSize: 12,
                    formatter: function (params) {
                        const name = params.name;
                        const value = listData.find(item => item.name === name).value;
                        const str = `${value}`
                        return str;
                    },
                },
                z: 0,
            },
            // 图片和文字
            {
                type: 'bar',
                xAxisIndex: 0,
                yAxisIndex: 0,
                barWidth: 10,
                data: dataSource,
                silent: true,
                label: {
                    show: true,
                    offset: [6, -20],
                    color: '#fff',
                    fontSize: 16,
                    fontWeight: 500,
                    position: 'left',
                    align: 'left',
                    formatter: function (params) {
                        return `{icon1|}`;
                    },
                    rich: {
                        icon1: {
                            width: xuhaofontsize * 1.5,
                            height: xuhaofontsize * 1.5,
                            align: 'center',
                            padding: [0, 0, 2, 0],
                            backgroundColor: {
                                image: img1,
                            },
                            color: '#ffffff',
                            fontSize: xuhaofontsize,
                        },
                    }
                },
                itemStyle: {
                    emphasis: {},
                    normal: {
                        color: "#64DFA2",
                    },
                },


            },
        ]
    };
    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option);
</script>

</html>