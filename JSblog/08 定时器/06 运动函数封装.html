<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        div{width: 100px;height: 100px;background: red;position: absolute;}
    </style>
    <script>
        window.onload = function () {
            /*
              1.把主要代码放在函数中
              2.找到可变的量   A.运动终止值  B.步长（speed） C.要运动的元素
              3.把可变的量变成参数，
              4.代入参数，检测

            */
            var rightBut = document.getElementsByTagName("button")[0];
            var leftBut = document.getElementsByTagName("button")[1];
            var oDiv = document.getElementsByTagName("div")[0];

            rightBut.onclick = function () {
               move(oDiv,10,500);
            };
            leftBut.onclick = function () {
               move(oDiv,10,20);
            }
            
        };
        function move(obj,tag,stopValue) {
            clearInterval(obj.timer);
            obj.timer = setInterval(function () {
                var speed = parseInt(getStyle(obj,"left")) + tag;  //490   520
                //0  500
                //5.判断合并
                /*if(speed <= stopValue){speed = stopValue;}
                if(speed >= stopValue){speed = stopValue;}*/

                //speed <= 0 && 往左走   speed >=500  && 往右走
                if(speed <= stopValue && tag < 0 || speed >= stopValue && tag >0){
                    speed = stopValue;
                }
                obj.style.left = speed + "px";
                if(speed == stopValue){
                    clearInterval(obj.timer);
                }
               /* if(speed == stopValue){
                    clearInterval(obj.timer);
                }
                if(speed == stopValue){
                    clearInterval(obj.timer)
                }*/
            },30);
        }
        function  getStyle(obj,attr) {
            return  obj.currentStyle ?  obj.currentStyle[attr] :  getComputedStyle(obj)[attr];
        }
    </script>
</head>
<body>
<button>往右走</button><button>往左走</button>
<div></div>
</body>
</html>