<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>闭包立即执行函数</title>
</head>

<body>
    闭包 内部函数被保存到了外面 必须生成闭包
</body>
<script>
    // function a() {
    //     function b() {
    //         var bbb = 234;
    //         console.log(aaa);
    //     }
    //     var aaa = 123;
    //     return b;
    // }
    // var glob = 100;
    // var demo = a();
    // demo();

    //   a  执行完 返回出 b  赋值给 demo   b 定义的时 保存了a 的作用域链
    //  闭包  内部函数被保存到了外面   必须生成闭包 
    //  函数执行完    销毁 ao; 

    function a() {
        var num = 100;

        function b() {
            num++;
            console.log(num);
        }
        return b;
        console.log(num); //  b  一直用的 b 拿到a 的ao  绑定自己的 ao
    }
    var demo = a();
    demo();
    demo();


    function init() {
        var name = "Mozilla"; // name 是一个被 init 创建的局部变量
        function displayName() { // displayName() 是内部函数,一个闭包
            console.log(name); // 使用了父函数中声明的变量
        }
        displayName();
    }
    init();
</script>

</html>