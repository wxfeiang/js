<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/element-ui/lib/theme-chalk/index.css"
    />
  </head>

  <body>
    <div id="app">
      <div class="menu">
        <el-badge
          :value="1"
          class="item"
          v-for="(item,index) in clist"
          :key="item.index"
        >
          <el-button
            size="small"
            @click="remove(item,index)"
            >{{item.name}}</el-button
          >
        </el-badge>
        <hr />

        <div
          v-for="(item,index) in arr"
          :key="index"
        >
          <div class="group">{{item.leabel}}</div>
          <div
            :value="13"
            class="item"
            v-for="(i,j) in item.list"
            :key="j"
          >
            <el-button size="small"
              >{{i.name}}
              <i
                class="el-icon-circle-plus-outline"
                v-if="!i.checked"
                @click="add(i,j)"
              ></i>
            </el-button>
          </div>
          <hr />
        </div>
      </div>
    </div>
  </body>
  <script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.13/vue.js"></script>
  <script src="https://unpkg.com/element-ui/lib/index.js"></script>
  <script>
    new Vue({
      el: "#app",
      data() {
        return {
          clist: [
            {
              id: 1,
              name: "红色"
            },
            {
              id: 5,
              name: "16GB"
            }
          ],
          arr: [
            {
              leabel: "颜色",
              list: [
                {
                  id: 1,
                  name: "红色"
                },
                {
                  id: 2,
                  name: "蓝色"
                },
                {
                  id: 3,
                  name: "黄色"
                }
              ]
            },
            {
              leabel: "内存",
              list: [
                {
                  id: 4,
                  name: "14GB"
                },
                {
                  id: 5,
                  name: "16GB"
                }
              ]
            },
            {
              leabel: "版本",
              list: [
                {
                  id: 6,
                  name: "1234567"
                },
                {
                  id: 7,
                  name: "87654ew"
                }
              ]
            }
          ]
        }
      },
      created() {
        this.carr(this.clist, this.arr)
        console.log("🍱", this.arr)
      },
      methods: {
        remove(item, index) {
          this.clist.splice(index, 1)

          this.arr.forEach((i) => {
            i.list.forEach((j) => {
              if (j.id == item.id) {
                j.checked = false
              }
            })
          })
        },
        add(item, index) {
          this.clist.push(item)

          this.arr.forEach((i) => {
            i.list.forEach((j) => {
              if (j.id == item.id) {
                j.checked = true
              }
            })
          })
        },

        carr(arr1, arr2) {
          arr1.forEach((item) => {
            arr2.forEach((i) => {
              i.list.forEach((j) => {
                if (j.id == item.id) {
                  j.checked = true
                }
              })
            })
          })
        }
      }
    })
  </script>
  <style lang="">
    .item {
      margin-right: 30px;
    }
  </style>
</html>
